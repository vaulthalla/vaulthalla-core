#!/usr/bin/env bash
set -e

# 1) Create system user + group
id vaulthalla &>/dev/null || sudo useradd -r -s /usr/sbin/nologin vaulthalla

# 2) Layout dirs
#sudo install -d -o vaulthalla -g vaulthalla -m 755 /mnt/vaulthalla
#sudo install -d -o vaulthalla -g vaulthalla -m 755 /var/lib/vaulthalla
#sudo install -d -o vaulthalla -g vaulthalla -m 750 /var/log/vaulthalla
#sudo install -d -o vaulthalla -g vaulthalla -m 755 /run/vaulthalla

# 3) Drop binaries
#sudo install -m 755 build/vaulthalla_fuse_daemon /usr/local/bin/
#sudo install -m 755 build/vaulthalla_cli         /usr/local/bin/

# 4) Copy default config
#sudo install -d -m 755 /etc/vaulthalla
#sudo cp packaging/default.toml /etc/vaulthalla/vaulthalla.toml

echo "[+] Vaulthalla installed. Enable the systemd unit and you're golden."
