# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#                  VAULTHALLA CONFIGURATION
#                âš”ï¸  FINAL FORGED EDITION âš”ï¸
#     A self-hosted empire demands no less than glory
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# === ğŸ§  CORE SERVER SETTINGS ===
websocket_server:
  enabled: true                     # Enable WebSocket server for frontend communication
  host: 0.0.0.0
  port: 36969
  max_connections: 1024
  max_upload_size_mb: 2048

http_preview_server:
  enabled: true                     # Enable HTTP server for file previews
  host: 0.0.0.0
  port: 36970
  max_connections: 512
  max_preview_size_mb: 512


# === ğŸ˜ DATABASE SETTINGS ===
# ğŸ” Password is TPM encrypted.
# It is optionally auto-generated and set on first run.
# Alternatively, it can be manually set, export, or regenerated using the `vaulthalla` CLI tool as the super-admin user.
database:
  host: localhost              # PostgreSQL host
  port: 5432                   # PostgreSQL port
  name: vaulthalla             # Database name
  user: vaulthalla             # Database user
  pool_size: 10                # Max DB connection pool size


# === ğŸ” AUTHENTICATION SETTINGS ===
auth:
  token_expiry_minutes: 60          # JWT access token TTL
  refresh_token_expiry_days: 7      # Refresh token TTL


# === ğŸ¤ SHARING SETTINGS ===
sharing:
  enabled: true                # Enable internal sharing features
  enable_public_links: true    # Enable public share links


# === Caching & Previews ===
caching:
  max_size_mb: 10240           # Max size for full-size cache (10 GB)

  cloud:
    thumbnails: true
    full_size: true
    documents:
      pdf: true

  local:
    thumbnails: true
    documents:
      pdf: true

  # Cloud preview settings
  cloud_preview:
    expiry_days: 7
    mirror: true               # Mirror full-size files to local storage, false = on demand caching of cloud files

  thumbnails:
    formats: [jpg, jpeg, png, webp, pdf]
    sizes: [128, 256, 512]
    expiry_days: 30

  previews:
    documents:
      pdf:
        max_pages: 0
        expiry_days: 15


# === ğŸ“œ LOGGING SETTINGS ===
logging:
  log_rotation_days: 7
  audit_log_rotation_days: 30
  log_levels:
    console_log_level: info
    file_log_level: debug
    subsystem_levels:
      vaulthalla: info
      fuse: info
      filesystem: info
      cloud: info
      crypto: info
      auth: info
      websocket: info
      http: info
      shell: warn
      db: info
      sync: info
      thumb: info
      storage: info
      types: info


# === ğŸ› ï¸ DEVELOPMENT SETTINGS ===
dev:
  enabled: false                    # Enable dev mode features
  init_r2_test_vault: false         # Initialize a test R2 vault in dev mode
